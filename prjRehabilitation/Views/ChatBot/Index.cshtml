@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<h3>基於ChatGPT的聊天機器人</h3>
<div id="disdiv1" '="" class="row">
    <div class="col-6">
        <input class="form-control col-4 " type="text" id="input" />
    </div>
    <div class="col-3">
        <button class="btn btn-primary col" onclick="getMessage()">送出</button>

    </div>
</div>
<p>回傳:</p>

<div id="output"></div>

@section Scripts{
<script>
    async function getMessage(){
            $("#output").html("資料傳送中，請稍後");
        const message = $("#input").val();
            const response =await fetch(`@Url.Content("~/ChatBot/SetMessage?question=${message}")`);
            const data =  await response.json();
            console.log(data);
            const output = data.message.result;
                    $("#output").html(`@Html.Raw("${output}")`);
                    
    }
</script>
}